# Maintainer: Mariano Iglesias <mgiglesias@gmail.com>
pkgname=python-pyfire
pkgver=0.3.2
pkgrel=1
pkgdesc='A Python implementation of the Campfire API'
arch=('i686' 'x86_64' 'ppc')
url='https://github.com/mariano/pyfire'
license=('MIT')
depends=('python2' 'twisted>=10.1.0')
optdepends=('python2-pyopenssl')
makedepends=('python2 python2-distribute')

build() {
    _repo='git://github.com/mariano/pyfire.git'

    msg 'Fetching from GIT repository...'

    if [[ -d "$srcdir/$pkgname-$pkgver" ]] ; then
        cd "$srcdir/$pkgname-$pkgver"
        git pull origin
    else
        cd "$srcdir"
        git clone $_repo $pkgname-$pkgver
    fi

    msg 'Repository downloaded'
    msg 'Building...'

    cd "$srcdir/$pkgname-$pkgver"

    python2 setup.py install --root="$pkgdir" || return 1
}
